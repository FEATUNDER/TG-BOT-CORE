<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞—Ç–∞–ª–æ–≥ –æ–¥–µ–∂–¥—ã</title>
    <style>
        /* –ü—Ä–æ—Å—Ç–æ–π —Å—Ç–∏–ª—å –¥–ª—è –ø—Ä–∏—è—Ç–Ω–æ–≥–æ –≤–∏–¥–∞ */
        * { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { padding: 20px; background: #f5f5f5; color: #333; }
        .product { background: white; border-radius: 15px; padding: 20px; margin-bottom: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .product img { width: 100%; border-radius: 10px; }
        .size-buttons { display: flex; gap: 10px; margin: 15px 0; }
        .size-btn { padding: 10px 15px; border: 2px solid #ddd; background: none; border-radius: 8px; cursor: pointer; }
        .size-btn.selected { border-color: #007bff; background: #007bff; color: white; }
        .price { font-size: 24px; font-weight: bold; color: #2ecc71; margin: 10px 0; }
        input, button { width: 100%; padding: 15px; margin: 10px 0; border-radius: 10px; border: 1px solid #ccc; font-size: 16px; }
        button.submit { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; font-weight: bold; }
    </style>
</head>
<body>
    <h1>üëï –ö–∞—Ç–∞–ª–æ–≥ –æ–¥–µ–∂–¥—ã</h1>
    <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä, —Ä–∞–∑–º–µ—Ä –∏ –æ—Å—Ç–∞–≤—å—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏!</p>

    <!-- –¢–û–í–ê–† 1 -->
    <div class="product" data-product="–§—É—Ç–±–æ–ª–∫–∞ –æ–≤–µ—Ä—Å–∞–π–∑" data-base-price="1500">
        <img src="https://via.placeholder.com/400x300/FF6B6B/FFFFFF?text=T-Shirt+Oversize" alt="–§—É—Ç–±–æ–ª–∫–∞">
        <h2>–§—É—Ç–±–æ–ª–∫–∞ –æ–≤–µ—Ä—Å–∞–π–∑</h2>
        <p>–ú–æ–¥–Ω–∞—è —Ö–ª–æ–ø–∫–æ–≤–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –∫—Ä–æ—è. –î–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ç—Ä–µ—Ö —Ü–≤–µ—Ç–∞—Ö.</p>
        <div class="size-buttons">
            <button class="size-btn" data-size="S">S (+0‚ÇΩ)</button>
            <button class="size-btn" data-size="M">M (+0‚ÇΩ)</button>
            <button class="size-btn" data-size="L">L (+200‚ÇΩ)</button>
            <button class="size-btn" data-size="XL">XL (+300‚ÇΩ)</button>
        </div>
        <div class="price">1500 ‚ÇΩ</div>
    </div>

    <!-- –¢–û–í–ê–† 2 -->
    <div class="product" data-product="–•—É–¥–∏ —Å –∫–∞–ø—é—à–æ–Ω–æ–º" data-base-price="3500">
        <img src="https://via.placeholder.com/400x300/4ECDC4/FFFFFF?text=Hoodie" alt="–•—É–¥–∏">
        <h2>–•—É–¥–∏ —Å –∫–∞–ø—é—à–æ–Ω–æ–º</h2>
        <p>–¢–µ–ø–ª–æ–µ —Ö—É–¥–∏ –∏–∑ —Ñ–ª–∏—Å–∞. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ—Ö–ª–∞–¥–Ω–æ–π –ø–æ–≥–æ–¥—ã.</p>
        <div class="size-buttons">
            <button class="size-btn" data-size="S">S (+0‚ÇΩ)</button>
            <button class="size-btn" data-size="M">M (+0‚ÇΩ)</button>
            <button class="size-btn" data-size="L">L (+300‚ÇΩ)</button>
        </div>
        <div class="price">3500 ‚ÇΩ</div>
    </div>

    <!-- –§–û–†–ú–ê –î–õ–Ø –ö–û–ù–¢–ê–ö–¢–û–í -->
    <h2>–í–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã</h2>
    <input type="text" id="userName" placeholder="–í–∞—à–µ –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ê–Ω–Ω–∞)" required>
    <input type="tel" id="userPhone" placeholder="–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, +79161234567)" required>

    <!-- –ö–ù–û–ü–ö–ê –û–¢–ü–†–ê–í–ö–ò -->
    <button class="submit" id="submitBtn">üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –ø—Ä–æ–¥–∞–≤—Ü—É</button>

    <script>
        // –û–ë–™–Ø–°–ù–ï–ù–ò–ï: –≠—Ç–æ—Ç –∫–æ–¥ –¥–µ–ª–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É "–∂–∏–≤–æ–π".
        // 1. –û–Ω –≤–µ—à–∞–µ—Ç —Å–ª—É—à–∞—Ç–µ–ª–µ–π –Ω–∞ –∫–Ω–æ–ø–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–≤.
        // 2. –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ü–µ–Ω—É –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–∞–∑–º–µ—Ä–∞.
        // 3. –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ –±–æ—Ç–∞ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å".

        // –°–Ω–∞—á–∞–ª–∞ –Ω–∞–π–¥–µ–º –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        const products = document.querySelectorAll('.product');

        // –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–∏–º –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ —Ä–∞–∑–º–µ—Ä–∞
        products.forEach(product => {
            const sizeButtons = product.querySelectorAll('.size-btn');
            const priceElement = product.querySelector('.price');
            const basePrice = parseInt(product.dataset.basePrice);

            // –ù–∞ –∫–∞–∂–¥—É—é –∫–Ω–æ–ø–∫—É —Ä–∞–∑–º–µ—Ä–∞ –≤–µ—à–∞–µ–º "—Å–ª—É—à–∞—Ç–µ–ª—å" –∫–ª–∏–∫–æ–≤
            sizeButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –≤ —ç—Ç–æ–º —Ç–æ–≤–∞—Ä–µ
                    sizeButtons.forEach(b => b.classList.remove('selected'));
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–µ
                    btn.classList.add('selected');

                    // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º —Ü–µ–Ω—É. –ú—ã —Ö—Ä–∞–Ω–∏–º –Ω–∞—Ü–µ–Ω–∫—É –≤ —Ç–µ–∫—Å—Ç–µ –∫–Ω–æ–ø–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä: "L (+200‚ÇΩ)"
                    // –ù–∞–π–¥–µ–º —á–∏—Å–ª–æ –≤ —Å–∫–æ–±–∫–∞—Ö —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
                    const match = btn.textContent.match(/\+(\d+)‚ÇΩ/);
                    const extraPrice = match ? parseInt(match[1]) : 0;
                    const totalPrice = basePrice + extraPrice;

                    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω—ã
                    priceElement.textContent = `${totalPrice} ‚ÇΩ`;
                });
            });
        });

        // –¢–µ–ø–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–∏–º –∫–Ω–æ–ø–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏
        document.getElementById('submitBtn').addEventListener('click', async () => {
            // 1. –ù–∞–π–¥–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä (–ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±: –±–µ—Ä–µ–º –ø–µ—Ä–≤—ã–π, –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å)
            const selectedProduct = products[0]; // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –Ω—É–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π —Ç–æ–≤–∞—Ä
            const productName = selectedProduct.dataset.product;

            // 2. –ù–∞–π–¥–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –≤ —ç—Ç–æ–º —Ç–æ–≤–∞—Ä–µ
            const selectedSizeBtn = selectedProduct.querySelector('.size-btn.selected');
            if (!selectedSizeBtn) {
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä!");
                return;
            }
            const selectedSize = selectedSizeBtn.dataset.size;

            // 3. –ü–æ–ª—É—á–∏–º –∏—Ç–æ–≥–æ–≤—É—é —Ü–µ–Ω—É
            const finalPrice = selectedProduct.querySelector('.price').textContent.trim();

            // 4. –ü–æ–ª—É—á–∏–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ–ª–µ–π –≤–≤–æ–¥–∞
            const userName = document.getElementById('userName').value.trim();
            const userPhone = document.getElementById('userPhone').value.trim();

            // 5. –ü—Ä–æ–≤–µ—Ä–∏–º, –≤—Å–µ –ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ
            if (!userName || !userPhone) {
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω!");
                return;
            }

            // 6. –£–ø–∞–∫—É–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç
            const data = {
                user_name: userName,
                user_phone: userPhone,
                product: productName,
                size: selectedSize,
                price: finalPrice
            };

            // 7. –û–¢–ü–†–ê–í–õ–Ø–ï–ú –î–ê–ù–ù–´–ï –í –ë–û–¢! –≠—Ç–æ –∫–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç.
            // Telegram –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç `Telegram.WebApp` –¥–ª—è —Å–≤—è–∑–∏.
            if (window.Telegram && Telegram.WebApp) {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                Telegram.WebApp.sendData(JSON.stringify(data));
                Telegram.WebApp.close();
            } else {
                // –ï—Å–ª–∏ –º—ã —Ç–µ—Å—Ç–∏—Ä—É–µ–º –Ω–µ –≤ Telegram, –ø–æ–∫–∞–∂–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Å–æ–ª–∏
                console.log("–î–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏:", data);
                alert("–î–∞–Ω–Ω—ã–µ –≥–æ—Ç–æ–≤—ã –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ! (–í Telegram –æ–Ω–∏ —É—à–ª–∏ –±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)");
            }
        });
    </script>
</body>
</html>